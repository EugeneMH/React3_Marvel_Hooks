{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/React-Marvel/src/components/charInfo/CharInfo.js\",\n  _s = $RefreshSig$();\n/* eslint-disable no-unreachable */\nimport { useState, useEffect } from 'react';\nimport useMarvelService from '../../services/service';\nimport { Link } from 'react-router-dom';\nimport setContent from '../../utils/setContent';\nimport './charInfo.scss';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CharInfo = props => {\n  _s();\n  const [char, setChar] = useState(null);\n  const {\n    process,\n    setProcess,\n    getCharacter,\n    clearError\n  } = useMarvelService();\n  useEffect(() => {\n    createCharacter();\n    // eslint-disable-next-line\n  }, [props.id]);\n  const createCharacter = () => {\n    const {\n      id\n    } = props;\n    if (!id) {\n      return;\n    }\n    clearError();\n    getCharacter(id).then(res => onFinishedLoading(res)).then(() => setProcess('confirmed'));\n  };\n  const onFinishedLoading = char => {\n    setChar(char);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char__info\",\n      children: setContent(process, Content, char)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(CharInfo, \"GjvFFkl9ZE0LdLLLg8Eg7DqIFZQ=\", false, function () {\n  return [useMarvelService];\n});\n_c = CharInfo;\nconst Content = _ref => {\n  let {\n    data\n  } = _ref;\n  const {\n    name,\n    description,\n    thumbnail,\n    homepage,\n    wiki,\n    comics\n  } = data;\n  let imgStyle = {\n    'objectFit': 'cover'\n  };\n  if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\n    imgStyle = {\n      'objectFit': 'contain'\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char__basics\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: thumbnail,\n        alt: name,\n        style: imgStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"char__info-name\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"char__btns\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: homepage,\n            className: \"button button__main\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inner\",\n              children: \"homepage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: wiki,\n            className: \"button button__secondary\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inner\",\n              children: \"Wiki\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char__descr\",\n      children: description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char__comics\",\n      children: \"Comics:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"char__comics-list\",\n      children: [comics.length > 0 ? null : \"Unfortunately, we can't find the comics for this character\", comics.map((item, i) => {\n        const filteredComicID = item.resourceURI.replace(/\\D/g, '').slice(1);\n        if (i < 10) {\n          return /*#__PURE__*/_jsxDEV(Link, {\n            className: \"char__comics-item\",\n            to: `/comics/${filteredComicID}`,\n            children: item.name\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this);\n        } else return null;\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_c2 = Content;\nCharInfo.propTypes = {\n  id: PropTypes.number\n};\nexport default CharInfo;\nvar _c, _c2;\n$RefreshReg$(_c, \"CharInfo\");\n$RefreshReg$(_c2, \"Content\");","map":{"version":3,"names":["useState","useEffect","useMarvelService","Link","setContent","PropTypes","CharInfo","props","char","setChar","process","setProcess","getCharacter","clearError","createCharacter","id","then","res","onFinishedLoading","Content","data","name","description","thumbnail","homepage","wiki","comics","imgStyle","length","map","item","i","filteredComicID","resourceURI","replace","slice","propTypes","number"],"sources":["/Applications/MAMP/htdocs/React-Marvel/src/components/charInfo/CharInfo.js"],"sourcesContent":["/* eslint-disable no-unreachable */\nimport {useState, useEffect} from 'react';\nimport useMarvelService from '../../services/service';\n\nimport { Link } from 'react-router-dom';\n\nimport setContent from '../../utils/setContent';\n\nimport './charInfo.scss';\n\nimport PropTypes from 'prop-types';\n\nconst CharInfo = (props) => {\n\n    const [char, setChar] = useState(null);\n\n    const {process, setProcess, getCharacter, clearError} = useMarvelService();\n\n    useEffect( () => {  \n        createCharacter();\n        // eslint-disable-next-line\n    }, [props.id] )\n    \n    const createCharacter = () => {\n        \n        const {id} = props;\n\n        if(!id) {\n            return;\n        }\n\n        clearError();\n        getCharacter(id)   \n        .then(res => onFinishedLoading(res))\n        .then(() => setProcess('confirmed'))\n    }\n\n    const onFinishedLoading = (char) => {\n        setChar(char);\n    }\n\n    return (\n        <>\n            <div className=\"char__info\">\n                {setContent(process, Content, char)}\n            </div>\n\n        </>\n    )\n\n}\n\nconst Content = ({data}) => {\n    \n    const {name, description, thumbnail, homepage, wiki, comics} = data;\n\n    let imgStyle = {'objectFit':'cover'};\n\n    if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\n        imgStyle = {'objectFit':'contain'};\n    }\n    \n    return (\n        <>\n            <div className=\"char__basics\">\n                <img src={thumbnail} alt={name} style={imgStyle}/>\n                <div>\n                    <div className=\"char__info-name\">{name}</div>\n                    <div className=\"char__btns\">\n                        <a href={homepage} className=\"button button__main\">\n                            <div className=\"inner\">homepage</div>\n                        </a>\n                        <a href={wiki} className=\"button button__secondary\">\n                            <div className=\"inner\">Wiki</div>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div className=\"char__descr\">\n                {description}\n            </div>\n\n            <div className=\"char__comics\">Comics:</div>\n            <ul className=\"char__comics-list\">\n                {comics.length > 0 ? null : \"Unfortunately, we can't find the comics for this character\"}\n                {comics.map( (item, i) => {     \n                    \n                    const filteredComicID = item.resourceURI.replace(/\\D/g, '').slice(1);    \n                \n                    if (i < 10) {\n                        return (\n                            <Link className=\"char__comics-item\" key={i} to={`/comics/${filteredComicID}`}>\n                                {item.name}\n                            </Link>\n                        )\n                    } else return null;\n                })}\n            </ul>\n        </>\n    )\n}\n\nCharInfo.propTypes = {\n    id: PropTypes.number\n}\n\nexport default CharInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module"}